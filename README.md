==============================================================================================
é‡‡ç”¨æ—¶é—´è½´+ECSæ€æƒ³çš„è®¾è®¡æ¨¡å¼è®¾è®¡çš„buffç³»ç»Ÿ,æ€è·¯æ¥æºäºæ­¤å‰å·¥ä½œä¸­é‡‡ç”¨DOTSå¼€å‘çš„buffç³»ç»Ÿ,
å…¶ä¸­çš„SystemBaseç±»ä¼¼äºDotsä¸­å„ç§ç³»ç»Ÿ,è€ŒSystemDataMgrç›¸å½“äºæŒ‡ä»¤ä¸­å¿ƒcollter,æœ‰ä¸€ç‚¹ç‚¹ç±»ä¼¼äºDOTSä¸­çš„Job
å„ç§Mgråˆ™æ˜¯ä¸ºEntityå’ŒSystemä¹‹é—´çš„äº¤äº’,é¿å…ç›´æ¥é¥®ç”¨ã€‚è¯¥ç³»ç»Ÿå®ç°äº†ä¸€æ•´å¥—çš„buffæµæ°´çº¿(å…¶å®ä¸æ­¢æ˜¯buffå¦‚æœæœ‰å…¶ä»–ç³»ç»Ÿä¹Ÿå¯ä»¥è¿™æ ·ç¼–å†™)
ä½¿çš„å„ç§buffä¸šåŠ¡ä¸éœ€è¦ç›´æ¥çŸ¥é“ä¿®æ”¹çš„ä»£ç†æˆ–è€…è¯´å®ä½“å¯¹è±¡çš„æ•°æ®,åªéœ€è¦äº§ç”Ÿæ•°æ®æŒ‡ä»¤å³å¯ã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹:
===============================================================================================
æ¸¸æˆç³»ç»Ÿæ‰§è¡Œæµç¨‹
â”œâ”€â”€ ğŸš€ å¯åŠ¨é˜¶æ®µ
â”‚   â”œâ”€â”€ GameRoot.Awake()
â”‚   â”œâ”€â”€ æ³¨å†Œç³»ç»Ÿ (AgentSystem, BuffSystem)
â”‚   â”œâ”€â”€ åˆå§‹åŒ–æ‰€æœ‰ç³»ç»Ÿ
â”‚   â”œâ”€â”€ AgentSystem.Start() â†’ åˆå§‹åŒ–AgentMgr
â”‚   â”œâ”€â”€ BuffSystem.Start() â†’ å¼€å§‹ç®¡ç†buffç”Ÿå‘½å‘¨æœŸ
â”‚   â””â”€â”€ æ”¶é›†ç³»ç»Ÿæ¥å£ (IStart, IUpdate, IFixedUpdate, ILateUpdate)
â”‚
â”œâ”€â”€ ğŸ”„ ä¸»å¾ªç¯é˜¶æ®µ
â”‚   â”œâ”€â”€ Update() - æ¯å¸§æ‰§è¡Œ
â”‚   â”‚   â”œâ”€â”€ ğŸ¯ AgentSystem.Update()
â”‚   â”‚   â”‚   â”œâ”€â”€ updateAgentProperty(time)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ä»SystemDataMgrè·å–å¾…å¤„ç†æŒ‡ä»¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ éå†æ¯ä¸ªPropertyModifyComponent
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ æ ¹æ®PropertyTypeæ‰§è¡Œä¿®æ”¹
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.Hp â†’ entity.Hp += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.Mp â†’ entity.Mp += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.Attack â†’ entity.Attack += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.Defense â†’ entity.Defense += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.SpeedX â†’ entity.SpeedX += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.SpeedY â†’ entity.SpeedY += value
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyType.Scale â†’ entity.Scale += value
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PropertyType.JumpMaxTimes â†’ playerEntity.JumpMaxTimes += value
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ æ ¹æ®ModifyTypeæ‰§è¡Œæ“ä½œæ¸¸æˆç³»ç»Ÿæ‰§è¡Œæµç¨‹
â”œâ”€â”€ ğŸš€ å¯åŠ¨é˜¶æ®µ
â”‚   â”œâ”€â”€ GameRoot.Awake()
â”‚   â”œâ”€â”€ æ³¨å†Œç³»ç»Ÿ (AgentSystem, BuffSystem)
â”‚   â”œâ”€â”€ åˆå§‹åŒ–æ‰€æœ‰ç³»ç»Ÿ
â”‚   â””â”€â”€ ç³»ç»Ÿå¯åŠ¨ (AgentMgråˆå§‹åŒ–, BuffSystemå¼€å§‹å·¥ä½œ)
â”‚
â”œâ”€â”€ ğŸ”„ ä¸»å¾ªç¯é˜¶æ®µ (æ¯å¸§æ‰§è¡Œ)
â”‚   â”œâ”€â”€ Update()
â”‚   â”‚   â”œâ”€â”€ AgentSystem.Update()
â”‚   â”‚   â”‚   â””â”€â”€ å¤„ç†å±æ€§ä¿®æ”¹æŒ‡ä»¤ â†’ ä¿®æ”¹Entityå±æ€§
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ BuffSystem.Update()
â”‚   â”‚       â””â”€â”€ æ›´æ–°æ‰€æœ‰BuffçŠ¶æ€ â†’ äº§ç”Ÿå±æ€§ä¿®æ”¹æŒ‡ä»¤
â”‚   â”‚
â”‚   â”œâ”€â”€ FixedUpdate()
â”‚   â”‚   â””â”€â”€ AgentSystem.FixedUpdate()
â”‚   â”‚       â””â”€â”€ æ›´æ–°ç‰©ç†ç›¸å…³ (Transform, åŠ¨ç”», ç‰¹æ•ˆ)
â”‚   â”‚
â”‚   â””â”€â”€ LateUpdate()
â”‚       â””â”€â”€ SystemDataMgr.LateUpdate()
â”‚           â””â”€â”€ æ¸…ç†å·²å¤„ç†å’Œè¿‡æœŸçš„æŒ‡ä»¤
â”‚
â””â”€â”€ ğŸ¯ å¤–éƒ¨äº¤äº’
    â”œâ”€â”€ æ·»åŠ Buff: Agent.AddBuff() â†’ BuffMgr â†’ åˆ›å»ºBuff â†’ è¿›å…¥å¾ªç¯
    â””â”€â”€ æ•°æ®æµ: Buff â†’ æŒ‡ä»¤ â†’ SystemDataMgr â†’ AgentSystem â†’ Entity


===========================================================================================================================
åç»­ä¼šæ›´æ–°å’Œä¼˜åŒ–,ä¿®å¤buffä¹‹ç±»çš„,ç›®å‰è¿˜æœ‰ä¸€äº›å°é—®é¢˜
